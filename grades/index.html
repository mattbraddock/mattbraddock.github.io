<!DOCTYPE html>
<html lang="en">
<head>

    <!-- Basic Page Needs
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <meta charset="utf-8">
    <title>Grade Calculator</title>
    <meta name="description" content="Calculates grades based on HCPSS policy 8020">
    <meta name="author" content="Matt Braddock">

    <!-- Mobile Specific Metas
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- FONT
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@600&display=swap" rel="stylesheet">

    <!-- CSS
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@latest/css/pico.min.css">

    <!-- Favicon
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <link rel="icon" type="image/png" href="../images/favicon.png">

</head>
<body>

    <!-- Primary Page Layout
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <div class="container">
        <h1 style="margin-top:2%;">HCPSS High School Grade Calculators</h1>
        <p>
            All grades calculated using <a href="https://policy.hcpss.org/8000/8020/implementation/" target="_blank">HCPSS Policy 8020</a>.
        </p>
        <details>
            <summary role="button">Full Year Courses</summary>
            <p>Each quarter grade is worth 22.5%.<br>The final is worth 10%.</p>
            <div class="grid">
                <div>
                    <label for="qtr1">Quarter 1</label>
                    <select name="qtr1" id="qtr1" class="qtr" onchange="calc()">
                        <option value="4">A</option>
                        <option value="3" selected>B</option>
                        <option value="2">C</option>
                        <option value="1">D</option>
                        <option value="0">E</option>
                    </select>
                </div>
                <div>
                    <label for="qtr2">Quarter 2</label>
                    <select name="qtr2" id="qtr2" class="qtr" onchange="calc()">
                        <option value="4">A</option>
                        <option value="3" selected>B</option>
                        <option value="2">C</option>
                        <option value="1">D</option>
                        <option value="0">E</option>
                    </select>
                </div>
                <div>
                    <label for="mid">Midterm</label>
                    <select name="mid" id="mid" class="exam" onchange="calc()">
                        <option value="4">A</option>
                        <option value="3" selected>B</option>
                        <option value="2">C</option>
                        <option value="1">D</option>
                        <option value="0">E</option>
                    </select>
                </div>
                <div>
                    <label for="qtr3">Quarter 3</label>
                    <select name="qtr3" id="qtr3" class="qtr" onchange="calc()">
                        <option value="4">A</option>
                        <option value="3" selected>B</option>
                        <option value="2">C</option>
                        <option value="1">D</option>
                        <option value="0">E</option>
                    </select>
                </div>
                <div>
                    <label for="qtr4">Quarter 4</label>
                    <select name="qtr4" id="qtr4" class="qtr" onchange="calc()">
                        <option value="4">A</option>
                        <option value="3" selected>B</option>
                        <option value="2">C</option>
                        <option value="1">D</option>
                        <option value="0">E</option>
                    </select>
                </div>
                <div>
                    <label for="fin">Final</label>
                    <select name="fin" id="fin" class="exam" onchange="calc()">
                        <option value="4">A</option>
                        <option value="3" selected>B</option>
                        <option value="2">C</option>
                        <option value="1">D</option>
                        <option value="0">E</option>
                    </select>
                </div>
            </div>
            <p><strong>Course grade: <span id="grade">B</span></strong></p>
        </details>
        <details>
            <summary role="button">Semester Courses</summary>
            <p>Each quarter grade is worth 50%.</p>
            <div class="grid">
                <div>
                    <label for="qtr1s">Quarter 1</label>&nbsp;<select name="qtr1s" id="qtr1s" class="qtrs" onchange="calcSem()">
                        <option value="4">A</option>
                        <option value="3" selected>B</option>
                        <option value="2">C</option>
                        <option value="1">D</option>
                        <option value="0">E</option>
                    </select>
                </div>
                <div>
                    <label for="qtr2s">Quarter 2</label>&nbsp;<select name="qtr2s" id="qtr2s" class="qtrs" onchange="calcSem()">
                        <option value="4">A</option>
                        <option value="3" selected>B</option>
                        <option value="2">C</option>
                        <option value="1">D</option>
                        <option value="0">E</option>
                    </select>
                </div>
                <div>
                    <label for="fins">Final</label>&nbsp;<select name="fins" id="fins" class="exams" onchange="calcSem()">
                        <option value="4">A</option>
                        <option value="3" selected>B</option>
                        <option value="2">C</option>
                        <option value="1">D</option>
                        <option value="0">E</option>
                    </select>
                </div>
            </div>
            <p><strong>Course grade: <span id="grades">B</span></strong></p>
        </details>
        <details>
            <summary role="button">Grade Point Average</summary>
            <label for="classcount">Number of Classes</label>&nbsp;<select name="classcount" id="classcount" onchange="calcGPA()">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7" selected>7</option>
            </select>
            <div class="grid">
                <div>
                    <label for="course1">Course #1 Grade</label>
                    <select name="course1" id="course1" class="course" onchange="calcGPA()">
                        <option value="4">A</option>
                        <option value="3" selected>B</option>
                        <option value="2">C</option>
                        <option value="1">D</option>
                        <option value="0">E</option>
                    </select>
                    <br>
                    <label for="type1">Course #1 Type</label>
                    <select name="type1" id="type1" class="type" onchange="calcGPA()">
                        <option value="1">AP or G/T</option>
                        <option value="0.5">Honors</option>
                        <option value="0" selected>Regular</option>
                    </select>
                </div>
                <div>
                    <label for="course2">Course #2 Grade</label>
                    <select name="course2" id="course2" class="course" onchange="calcGPA()">
                        <option value="4">A</option>
                        <option value="3" selected>B</option>
                        <option value="2">C</option>
                        <option value="1">D</option>
                        <option value="0">E</option>
                    </select>
                    <br>
                    <label for="type2">Course #2 Type</label>
                    <select name="type2" id="type2" class="type" onchange="calcGPA()">
                        <option value="1">AP or G/T</option>
                        <option value="0.5">Honors</option>
                        <option value="0" selected>Regular</option>
                    </select>
                </div>
                <div>
                    <label for="course3">Course #3 Grade</label>
                    <select name="course3" id="course3" class="course" onchange="calcGPA()">
                        <option value="4">A</option>
                        <option value="3" selected>B</option>
                        <option value="2">C</option>
                        <option value="1">D</option>
                        <option value="0">E</option>
                    </select>
                    <br>
                    <label for="type3">Course #3 Type</label>
                    <select name="type3" id="type3" class="type" onchange="calcGPA()">
                        <option value="1">AP or G/T</option>
                        <option value="0.5">Honors</option>
                        <option value="0" selected>Regular</option>
                    </select>
                </div>
                <div>
                    <label for="course4">Course #4 Grade</label>
                    <select name="course4" id="course4" class="course" onchange="calcGPA()">
                        <option value="4">A</option>
                        <option value="3" selected>B</option>
                        <option value="2">C</option>
                        <option value="1">D</option>
                        <option value="0">E</option>
                    </select>
                    <br>
                    <label for="type4">Course #4 Type</label>
                    <select name="type4" id="type4" class="type" onchange="calcGPA()">
                        <option value="1">AP or G/T</option>
                        <option value="0.5">Honors</option>
                        <option value="0" selected>Regular</option>
                    </select>
                </div>
                <div>
                    <label for="course5">Course #5 Grade</label>
                    <select name="course5" id="course5" class="course" onchange="calcGPA()">
                        <option value="4">A</option>
                        <option value="3" selected>B</option>
                        <option value="2">C</option>
                        <option value="1">D</option>
                        <option value="0">E</option>
                    </select>
                    <br>
                    <label for="type5">Course #5 Type</label>
                    <select name="type5" id="type5" class="type" onchange="calcGPA()">
                        <option value="1">AP or G/T</option>
                        <option value="0.5">Honors</option>
                        <option value="0" selected>Regular</option>
                    </select>
                </div>
                <div>
                    <label for="course6">Course #6 Grade</label>
                    <select name="course6" id="course6" class="course" onchange="calcGPA()">
                        <option value="4">A</option>
                        <option value="3" selected>B</option>
                        <option value="2">C</option>
                        <option value="1">D</option>
                        <option value="0">E</option>
                    </select>
                    <br>
                    <label for="type6">Course #6 Type</label>
                    <select name="type6" id="type6" class="type" onchange="calcGPA()">
                        <option value="1">AP or G/T</option>
                        <option value="0.5">Honors</option>
                        <option value="0" selected>Regular</option>
                    </select>
                </div>
                <div>
                    <label for="course7">Course #7 Grade</label>
                    <select name="course7" id="course7" class="course" onchange="calcGPA()">
                        <option value="4">A</option>
                        <option value="3" selected>B</option>
                        <option value="2">C</option>
                        <option value="1">D</option>
                        <option value="0">E</option>
                    </select>
                    <br>
                    <label for="type7">Course #7 Type</label>
                    <select name="type7" id="type7" class="type" onchange="calcGPA()">
                        <option value="1">AP or G/T</option>
                        <option value="0.5">Honors</option>
                        <option value="0" selected>Regular</option>
                    </select>
                </div>
            </div>
            <p><strong>Unweighted GPA: <span id="ungpa">3.00</span></strong></p>
            <p><strong>Weighted GPA: <span id="wgpa">3.00</span></strong></p>
        </details>
    </div>

    <!-- JAVASCRIPT
    –––––––––––––––––––––––––––––––––––––––––––––––––– -->
    <script>
        const calc = () => {
            const qtrSum = [...document.querySelectorAll(".qtr")].reduce((x,y) => x + parseInt(y.value), 0);
            const examSum = [...document.querySelectorAll(".exam")].reduce((x,y) => x + parseInt(y.value), 0);
            let total = (qtrSum * (4 / 5)) + (examSum * (1 / 5));
            const qtr1 = document.getElementById("qtr1").value;
            const qtr2 = document.getElementById("qtr2").value;
            const qtr3 = document.getElementById("qtr3").value;
            const qtr4 = document.getElementById("qtr4").value;
            if ((parseInt(qtr3) + parseInt(qtr4) === 0) || ((parseInt(qtr1) + parseInt(qtr2) === 0) && (parseInt(qtr3) === 0 || parseInt(qtr4) === 0))) total = 0;
            document.getElementById("grade").innerText = total >= 3.5 ? 'A' : total >= 2.5 ? 'B' : total >= 1.5 ? 'C' : total >= 0.75 ? 'D' : 'E';
        }
        const calcSem = () => {
            const qtrSum = [...document.querySelectorAll(".qtrs")].reduce((x,y) => x + parseInt(y.value), 0);
            const examSum = [...document.querySelectorAll(".exams")].reduce((x,y) => x + parseInt(y.value), 0);
            const total = (qtrSum * (4 / 5)) + (examSum * (1 / 5));
            document.getElementById("grades").innerText = total >= 3.5 ? 'A' : total >= 2.5 ? 'B' : total >= 1.5 ? 'C' : total >= 0.75 ? 'D' : 'E';
        }
        const calcGPA = () => {
            const count = document.getElementById("classcount").value;
            const courseElements = [...document.querySelectorAll(".course")];
            const rawSum = courseElements.reduce((x, y, i) => i <= parseInt(count) ? x + parseInt(y.value) : x, 0);
            const typeValues = [...document.querySelectorAll(".type")].map(x => Number(x.value));
            const weightedSum = courseElements.reduce((x, y, i) => i > parseInt(count) ? x : parseInt(y.value) > 1 ? x + parseInt(y.value) + typeValues[i] : x + parseInt(y.value), 0);
            document.getElementById("ungpa").innerText = (rawSum / parseInt(count)).toFixed(2).toString();
            document.getElementById("wgpa").innerText = (weightedSum / parseInt(count)).toFixed(2).toString();
        }
    </script>

<!-- End Document
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
</body>
</html>
